/* 
* 統一アニメーションユーティリティ
* シンプルで再利用可能なアニメーションクラス
*/

/* ===== ボタンアニメーション ===== */
.btn-hover {
  @apply hover:scale-105 hover:-translate-y-1 hover:shadow-lg transition-all duration-300;
}

.btn-hover-subtle {
  @apply hover:scale-[1.02] hover:shadow-md transition-all duration-300;
}

/* ===== カードアニメーション ===== */
.card-hover {
  @apply hover:-translate-y-1 hover:shadow-xl transition-all duration-300;
}

.card-hover-scale {
  @apply hover:scale-[1.02] hover:shadow-xl transition-all duration-300;
}

/* ===== グループホバーアニメーション ===== */
.group-icon-right {
  @apply group-hover:translate-x-1 group-hover:scale-110 transition-transform duration-300;
}

.group-icon-rotate {
  @apply group-hover:scale-110 group-hover:rotate-6 transition-transform duration-300;
}

.group-text-wide {
  @apply group-hover:tracking-wide transition-all duration-300;
}

/* ===== 基本的なフェードアニメーション ===== */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeInUp {
  from { 
    opacity: 0; 
    transform: translateY(20px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

.animate-fadeIn {
  animation: fadeIn 0.6s ease-out;
}

.animate-fadeInUp {
  animation: fadeInUp 0.6s ease-out;
}

/* ===== テキスト描画アニメーション ===== */
@keyframes lineFill {
  0% {
    transform: scaleX(0);
    opacity: 0.2;
  }
  15% {
    opacity: 0.75;
  }
  55% {
    transform: scaleX(1);
    opacity: 1;
  }
  70% {
    transform: scaleX(1);
    opacity: 1;
  }
  100% {
    transform: scaleX(0);
    opacity: 0;
  }
}

@keyframes cursorBlink {
  0%,
  40% {
    opacity: 1;
  }
  60%,
  100% {
    opacity: 0;
  }
}

.writing-track {
  position: relative;
  overflow: hidden;
  border-radius: 9999px;
  background: var(--writing-track-color, rgba(55, 183, 196, 0.15));
}

.writing-progress {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: var(--writing-fill-color, rgba(55, 183, 196, 0.55));
  transform-origin: left center;
  transform: scaleX(0);
  animation: lineFill var(--writing-duration, 3s) var(--writing-delay, 0s) cubic-bezier(0.45, 0.05, 0.55, 0.95) infinite;
}

.writing-progress::after {
  content: '';
  position: absolute;
  top: 50%;
  right: -2px;
  width: 2px;
  height: 70%;
  transform: translateY(-50%);
  border-radius: 9999px;
  background: var(--writing-cursor-color, rgba(55, 183, 196, 0.85));
  animation: cursorBlink calc(var(--writing-duration, 3s) * 0.6) var(--writing-delay, 0s) steps(2, start) infinite;
}

/* ===== サポート用アニメーション ===== */
@keyframes boardShift {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

.animate-board-shift {
  animation: boardShift var(--board-duration, 3.4s) ease-in-out infinite;
}

@keyframes connectorPulse {
  0%,
  100% {
    transform: scaleX(0.7);
    opacity: 0.35;
  }
  45% {
    transform: scaleX(1);
    opacity: 1;
  }
  70% {
    transform: scaleX(0.85);
    opacity: 0.6;
  }
}

.animate-connector-pulse {
  transform-origin: left center;
  animation: connectorPulse var(--connector-duration, 2.8s) ease-in-out infinite;
}

@keyframes stackBuild {
  0% {
    transform: translateY(10px) scale(0.92);
    opacity: 0;
  }
  40% {
    opacity: 1;
  }
  70% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateY(-4px) scale(1.02);
    opacity: 0.85;
  }
}

.animate-stack-rise {
  animation: stackBuild var(--stack-duration, 3.1s) ease-out infinite;
}

@keyframes searchSweep {
  0% {
    transform: translateX(-110%);
    opacity: 0;
  }
  25% {
    opacity: 0.4;
  }
  55% {
    transform: translateX(0%);
    opacity: 0.6;
  }
  80% {
    transform: translateX(110%);
    opacity: 0;
  }
  100% {
    opacity: 0;
  }
}

.animate-search-sweep {
  animation: searchSweep var(--search-duration, 2.8s) ease-in-out infinite;
}

@keyframes searchButtonPulse {
  0%,
  100% {
    transform: scale(1.08);
    box-shadow: 0 0 0 0 rgba(55, 183, 196, 0.2);
  }
  50% {
    transform: scale(1.28);
    box-shadow: 0 8px 16px rgba(55, 183, 196, 0.32);
  }
}

.animate-search-button {
  animation: searchButtonPulse var(--search-button-duration, 2.6s) ease-in-out infinite;
}

@keyframes pageScroll {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-28px);
  }
}

.animate-page-scroll {
  animation: pageScroll var(--page-scroll-duration, 3.2s) ease-in-out infinite;
}

@keyframes progressFill {
  0%,
  100% {
    transform: scaleX(0.25);
  }
  45% {
    transform: scaleX(0.95);
  }
  70% {
    transform: scaleX(0.8);
  }
}

.animate-progress-fill {
  transform-origin: left center;
  animation: progressFill var(--progress-duration, 3.2s) ease-in-out infinite;
}

@keyframes pulseDot {
  0%,
  100% {
    transform: scale(0.6);
    opacity: 0.4;
  }
  45% {
    transform: scale(1);
    opacity: 1;
  }
  70% {
    transform: scale(0.8);
    opacity: 0.6;
  }
}

.animate-pulse-dot {
  animation: pulseDot var(--dot-duration, 2.8s) ease-in-out infinite;
}
